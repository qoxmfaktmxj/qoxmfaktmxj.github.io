---
layout: post
title: "로드 밸런싱(Load Balancing)"
date: 2022-05-17 17:09:30 +0900
categories: [java, naver-archive]
tags: [naver-import]
naver_source: https://blog.naver.com/qoxmfaktmxj/222735990140
---

> 원문: [https://blog.naver.com/qoxmfaktmxj/222735990140](https://blog.naver.com/qoxmfaktmxj/222735990140)

아무리 성능이 뛰어난 서버라고 해도 모든 트래픽을 감당해낼 수 없습니다. 이에 기업들은 서버를 추가로 구비하고 여러 대의 서버에 동일한 데이터를 저장해 수많은 트래픽을 효과적으로 분산하게 됩니다. 

다수의 서버를 구축해도 트래픽을 여러 대의 서버로 분산해주지 않으면 한 서버에 모든 트래픽이 몰릴 수도 있습니다. 이를 관리하는 것이 로드 밸런싱



 

[![](https://mblogthumb-phinf.pstatic.net/MjAyMjA1MThfMjY5/MDAxNjUyODMzOTQzMTU4.vQ8B9DIcBe1BPvQfNPx6jaAtII4vxP99LJRcs0o4-7Qg.kKzgHazbh6Tpe6qJtJzd1r8d88MMy4Ny1PsH67FfP4Qg.PNG.qoxmfaktmxj/image.png?type=w80_blur)](#)

로드밸런서는 서버에 가해지는 부하(\=로드)를 분산(\=밸런싱)해주는 장치 또는 기술. 클라이언트와 서버풀(Server Pool, 분산 네트워크를 구성하는 서버들의 그룹) 사이에 위치하며, 한 대의 서버로 부하가 집중되지 않도록 트래픽을 관리해 각각의 서버가 최적의 퍼포먼스를 보일 수 있도록 합니다.



서비스의 클라이언트가 늘어나게 되면 증가한 트래픽에 대처해야 한다. 증가한 트래픽에 대처할 수 있는 방법은 크게 두 가지입니다.



**Scale\-up 그리고 Scale\-out**

 

[![](https://mblogthumb-phinf.pstatic.net/MjAyMjA1MThfODYg/MDAxNjUyODM0MTAwMDcy.bbsVw-gh05Shp0zmB6y-5aPvenPYQc4afcpbH3DUn_Eg.EfWMvyA7FpBmXRNzxY01bspBVQvoS9-hsHrcT5Pw9hwg.PNG.qoxmfaktmxj/image.png?type=w80_blur)](#)

****

 

[![](https://mblogthumb-phinf.pstatic.net/MjAyMjA1MThfNDkg/MDAxNjUyODM0MTI0MjUz.ZZiVcC3TVf1vnwIMn7gEFn9GR6_0ROt3O72uybu7QUQg.HYfmU7wwpyGfFa-lcXx_r8Ikev4Trs4tPT2sl__zOTkg.PNG.qoxmfaktmxj/image.png?type=w80_blur)](#)

**Scale\-up**의 경우 서버 자체의 성능을 확장하는 것을 의미합니다. 비유하자면 CPU가 i3인 컴퓨터를 i7으로 업그레이드하는 것과 같습니다. 

반면 **Scale\-out**의 경우 기존 서버와 동일하거나 낮은 성능의 서버를 두 대 이상 증설하여 운영하는 것을 의미합니다. CPU가 i3인 컴퓨터를 여러 대 추가 구입해 운영하 것에 비유할 수 있습니다.



**Scale\-out**의 방식으로 서버를 증설하기로 결정했다면 여러 대의 서버로 트래픽을 균등하게 분산해주는 **로드밸런싱**이 반드시 필요합니다.



클라이언트의 요청을 특정 서버에 분배하는 로드밸런싱 기법은 여러 가지가 있습니다. 활용할 수 있는 부하 분산 방식(로드밸런싱 알고리즘)에 어떠한 것들이 있는지 알아보겠습니다.



**다양한 로드밸런싱 알고리즘**

**• 라운드로빈 방식(Round Robin Method)**

서버에 들어온 요청을 순서대로 돌아가며 배정하는 방식입니다. 클라이언트의 요청을 순서대로 분배하기 때문에 여러 대의 서버가 동일한 스펙을 갖고 있고, 서버와의 연결(세션)이 오래 지속되지 않는 경우에 활용하기 적합합니다.



**• 가중 라운드로빈 방식(Weighted Round Robin Method)**

각각의 서버마다 가중치를 매기고 가중치가 높은 서버에 클라이언트 요청을 우선적으로 배분합니다. 주로 서버의 트래픽 처리 능력이 상이한 경우 사용되는 부하 분산 방식입니다. 예를 들어 A라는 서버가 5라는 가중치를 갖고 B라는 서버가 2라는 가중치를 갖는다면, 로드밸런서는 라운드로빈 방식으로 A 서버에 5개 B 서버에 2개의 요청을 전달합니다.



**• IP 해시 방식(IP Hash Method)**

클라이언트의 IP 주소를 특정 서버로 매핑하여 요청을 처리하는 방식입니다. 사용자의 IP를 해싱해(Hashing, 임의의 길이를 지닌 데이터를 고정된 길이의 데이터로 매핑하는 것, 또는 그러한 함수) 로드를 분배하기 때문에 사용자가 항상 동일한 서버로 연결되는 것을 보장합니다. 



**• 최소 연결 방식(Least Connection Method)**

요청이 들어온 시점에 가장 적은 연결상태를 보이는 서버에 우선적으로 트래픽을 배분합니다. 자주 세션이 길어지거나, 서버에 분배된 트래픽들이 일정하지 않은 경우에 적합한 방식입니다.



**• 최소 리스폰타임(Least Response Time Method)**

서버의 현재 연결 상태와 응답시간(Response Time, 서버에 요청을 보내고 최초 응답을 받을 때까지 소요되는 시간)을 모두 고려하여 트래픽을 배분합니다. 가장 적은 연결 상태와 가장 짧은 응답시간을 보이는 서버에 우선적으로 로드를 배분하는 방식입니다.
